<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>hello-wasm example</title>
  </head>
  <body>
    <textarea id="test-tm-code" name="test-tm-code" rows="20" cols="50">
Turing Machine code goes here
    </textarea>
    <p id="test-dot-output">
      output
    </p>
    <script type="module">
      import init, { tm_string_to_dot } from "./tm_parser/tm_parser.js";

      init().then(() => {
        const code_editor = document.getElementById("test-tm-code");
        const dot_output = document.getElementById("test-dot-output");

        code_editor.addEventListener("input", (e) => {
          console.log("RUST CALL");
          dot_output.innerText = tm_string_to_dot(code_editor.value, "TEST");
          console.log("PARSED");
        });
      });
    </script>
  </body>
</html>
